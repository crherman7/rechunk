---
title: 'Chunks'
---

Chunks refer to bundled components and modules, consisting of minified and tersified JavaScript code. Any required images are converted into inline Base64-encoded data within these chunks. This approach eliminates the need for separate image requests and can streamline the loading of resources. However, it's important to note that embedding images as Base64 data can increase the size of the JavaScript bundles, potentially impacting overall performance. Therefore, this technique should be used judiciously based on specific project requirements and performance considerations.

Smaller bundles are preferable because they reduce resolution time, leading to a better user experience.

## Chunk Actions

### Generation

The process of generating chunks relies significantly on both your source code and your ReChunk configuration (stored in `rechunk.json`). Your source code provides the content and modules that need to be bundled into chunks, while the ReChunk configuration specifies how these chunks should be generated and optimized based on your project's requirements and settings. Together, these elements ensure that the chunking process aligns with your application's structure and performance goals.

In your `rechunk.json` file, you should update the `chunks` object where each key represents a chunk identifier, and the corresponding value specifies the entry point to your React Native component associated with that chunk. This configuration helps ReChunk understand how to organize and generate the chunks based on your project's component structure and entry points.

```json title="rechunk.json" ins={8-10}
{
  "$schema": "https://crherman7.github.io/rechunk/schema.json",
  "project": "flavorful-associate-uproot",
  "readKey": "read-dca06153-c79a-4884-ad56-df8444eaafde",
  "writeKey": "write-788d69c9-fdea-4ab0-975b-ab75cc15ad97",
  "publicKey": "-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmOyt2nfQvEseAaiMbiSzdJf58wLAhW7iWAVgssohBjOrVo/7e8Tn/tdTEMuWRwMNWS9MxhJYfHiHPk2Dl2/d0uNFHWa1oh/9c3PbwsTdC+2ZKA4zUg24Tw4uj8CE1jSDvGMnkUHeAKUuek4r7kzPgo0oucXWunP6XgLKzwipMO3F7UdTqvQdqrIQtjXZGWB0/nCri3aEHgsFWHBNdnve0SEbdNs4PFf+FJO03Oj4bKC/LrVTea2AShR/WfCDXkHr4JrXjKvx+8KnXHi3Kfecf6BreE/RpQptRymzA/eMHqBQj2TaujtaNhZQx8z0C1kL3Gitlzr0htA0Y8D/tGhqkQIDAQAB-----END PUBLIC KEY-----",
  "privateKey": "-----BEGIN PRIVATE KEY-----MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCY7K3ad9C8Sx4BqIxuJLN0l/nzAsCFbuJYBWCyyiEGM6tWj/t7xOf+11MQy5ZHAw1ZL0zGElh8eIc+TYOXb93S40UdZrWiH/1zc9vCxN0L7ZkoDjNSDbhPDi6PwITWNIO8YyeRQd4ApS56TivuTM+CjSi5xda6c/peAsrPCKkw7cXtR1Oq9B2qshC2NdkZYHT+cKuLdoQeCwVYcE12e97RIRt02zg8V/4Uk7Tc6PhsoL8utVN5rYBKFH9Z8INeQevgmteMq/H7wqdceLcp95x/oGt4T9GlCm1HKbMD94weoFCPZNq6O1o2FlDHzPQLWQvcaK2XOvSG0DRjwP+0aGqRAgMBAAECggEAErB+UOBqzNBbYvV/8CghHINEY2w3LjeOhxZlKoSkg5cF/ibLo+U9OzqCpt9Sxuv7EibDOcPdN50dXkJn7jaYRCFNfZnjYeSJ+7WxqnyXzVDk8m3F3OXbXCIOE7iCI5G4deoiWFDV+ns1knICUXXmuHxa+VVR+GibNSkfMy1KTDXaoEBsY7O3PJF/hl+W4NPfssEQmFkKtJHcrKV/nt5yYPRdgZQAA3WgRzgPpc23zMBoh+ZO727ldMwWAUUuk6jre4YDxhdH0sajMX7oiGiQoM5t0TdDfa+Hz4PjdSvmLiAzr46kN6ol/fOj3G5RAkANtnOMz0//cNB8ov2YIA6mLwKBgQC+dQR0g3sPLRSoWnKYgYEvQN+VHzM9EOT2NqrglppDGvX0vlefR3lQQT28y+jP4c0HW10FhpRbfxjd6Fhj1mxNh+6F+FPKVbPbJb7dMTyt1bfR2LdLt5BzBAuq0qnxlSNEkCF0aonIWMQJqQurlVcByKxkD3Eowq3ylVqjcJedGwKBgQDNjRlRB+xIIAnaFWDt1IcvJ7x7Gyu0LqSKhWhHg+Bak3tgkOkXDE894ifFqqV+piXeEwS6oPok4fJBj+uUuXi7dzJsAjpmpOBfssiNlpJW3TSyoQwnvLOjIdalSLxji6poMwgFePX+2hbJVMwSeZXx5cwyK6nwDI/nh7lxKcotwwKBgH62N7qU50CXi5DebDOOpbYcgSQjV+Ge5dXxVQqK6CMRQuYL5RvxX4LHhR2gxEnaPqBQZrkQao/dJVwuAvCZbgC/GTBEoOqSzlBU8oETCv3UnLGeb4SOoioDXQfPlIVH5ejtw3RClVyXwgVzVHJZr0NekWMY6v5lV3l3aJAojpZVAoGAQ2Rii4Wse009zam6uN84X0aI7lfPMWkle2EX+nKLaUb3aYa5VVws0t5GKfG0Bt0Uh0X3A/VpbhRCaCp2k7FnmxcOigkE+shN5DJqvLlES4SFFZfls1WUFAUxKcm6Mm0FNtqcY6bwCFmapPHPYrNIbSHpm/1i3xhPShreuvJ3nh8CgYA4BD4HEDBpdDeJ5A7neEjeJpy6K2ac8WzMT7LDWOLjP4zd8XcHCE3A464SiEom/ezJrz9g6WxbwkS+cWtqCPITr06MlnJOd0eU57jpNUGEgL8rvt1sb19lPit4Br3HEVf9PLXyD2rZKNcamc2XvHt19eaxRum6dnT40HyHjWJx6w==-----END PRIVATE KEY-----",
  "entry": {
    "foo": "./src/components/Remote.tsx"
  },
  "host": "https://myrechunkserver.abc"
}
```

It's typically a good practice to isolate remotely hosted components to make them more modular and less restrictive. However, when including shared code—which is often necessary—you can update the `external` array in your `rechunk.json` to include the shared modules. Additionally, it can be beneficial to store your shared modules in a dedicated directory with an alias to simplify their inclusion and usage across different parts of your project.

```json title="rechunk.json" ins={11}
{
  "$schema": "https://crherman7.github.io/rechunk/schema.json",
  "project": "flavorful-associate-uproot",
  "readKey": "read-dca06153-c79a-4884-ad56-df8444eaafde",
  "writeKey": "write-788d69c9-fdea-4ab0-975b-ab75cc15ad97",
  "publicKey": "-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmOyt2nfQvEseAaiMbiSzdJf58wLAhW7iWAVgssohBjOrVo/7e8Tn/tdTEMuWRwMNWS9MxhJYfHiHPk2Dl2/d0uNFHWa1oh/9c3PbwsTdC+2ZKA4zUg24Tw4uj8CE1jSDvGMnkUHeAKUuek4r7kzPgo0oucXWunP6XgLKzwipMO3F7UdTqvQdqrIQtjXZGWB0/nCri3aEHgsFWHBNdnve0SEbdNs4PFf+FJO03Oj4bKC/LrVTea2AShR/WfCDXkHr4JrXjKvx+8KnXHi3Kfecf6BreE/RpQptRymzA/eMHqBQj2TaujtaNhZQx8z0C1kL3Gitlzr0htA0Y8D/tGhqkQIDAQAB-----END PUBLIC KEY-----",
  "privateKey": "-----BEGIN PRIVATE KEY-----MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCY7K3ad9C8Sx4BqIxuJLN0l/nzAsCFbuJYBWCyyiEGM6tWj/t7xOf+11MQy5ZHAw1ZL0zGElh8eIc+TYOXb93S40UdZrWiH/1zc9vCxN0L7ZkoDjNSDbhPDi6PwITWNIO8YyeRQd4ApS56TivuTM+CjSi5xda6c/peAsrPCKkw7cXtR1Oq9B2qshC2NdkZYHT+cKuLdoQeCwVYcE12e97RIRt02zg8V/4Uk7Tc6PhsoL8utVN5rYBKFH9Z8INeQevgmteMq/H7wqdceLcp95x/oGt4T9GlCm1HKbMD94weoFCPZNq6O1o2FlDHzPQLWQvcaK2XOvSG0DRjwP+0aGqRAgMBAAECggEAErB+UOBqzNBbYvV/8CghHINEY2w3LjeOhxZlKoSkg5cF/ibLo+U9OzqCpt9Sxuv7EibDOcPdN50dXkJn7jaYRCFNfZnjYeSJ+7WxqnyXzVDk8m3F3OXbXCIOE7iCI5G4deoiWFDV+ns1knICUXXmuHxa+VVR+GibNSkfMy1KTDXaoEBsY7O3PJF/hl+W4NPfssEQmFkKtJHcrKV/nt5yYPRdgZQAA3WgRzgPpc23zMBoh+ZO727ldMwWAUUuk6jre4YDxhdH0sajMX7oiGiQoM5t0TdDfa+Hz4PjdSvmLiAzr46kN6ol/fOj3G5RAkANtnOMz0//cNB8ov2YIA6mLwKBgQC+dQR0g3sPLRSoWnKYgYEvQN+VHzM9EOT2NqrglppDGvX0vlefR3lQQT28y+jP4c0HW10FhpRbfxjd6Fhj1mxNh+6F+FPKVbPbJb7dMTyt1bfR2LdLt5BzBAuq0qnxlSNEkCF0aonIWMQJqQurlVcByKxkD3Eowq3ylVqjcJedGwKBgQDNjRlRB+xIIAnaFWDt1IcvJ7x7Gyu0LqSKhWhHg+Bak3tgkOkXDE894ifFqqV+piXeEwS6oPok4fJBj+uUuXi7dzJsAjpmpOBfssiNlpJW3TSyoQwnvLOjIdalSLxji6poMwgFePX+2hbJVMwSeZXx5cwyK6nwDI/nh7lxKcotwwKBgH62N7qU50CXi5DebDOOpbYcgSQjV+Ge5dXxVQqK6CMRQuYL5RvxX4LHhR2gxEnaPqBQZrkQao/dJVwuAvCZbgC/GTBEoOqSzlBU8oETCv3UnLGeb4SOoioDXQfPlIVH5ejtw3RClVyXwgVzVHJZr0NekWMY6v5lV3l3aJAojpZVAoGAQ2Rii4Wse009zam6uN84X0aI7lfPMWkle2EX+nKLaUb3aYa5VVws0t5GKfG0Bt0Uh0X3A/VpbhRCaCp2k7FnmxcOigkE+shN5DJqvLlES4SFFZfls1WUFAUxKcm6Mm0FNtqcY6bwCFmapPHPYrNIbSHpm/1i3xhPShreuvJ3nh8CgYA4BD4HEDBpdDeJ5A7neEjeJpy6K2ac8WzMT7LDWOLjP4zd8XcHCE3A464SiEom/ezJrz9g6WxbwkS+cWtqCPITr06MlnJOd0eU57jpNUGEgL8rvt1sb19lPit4Br3HEVf9PLXyD2rZKNcamc2XvHt19eaxRum6dnT40HyHjWJx6w==-----END PRIVATE KEY-----",
  "entry": {
    "foo": "./src/components/Remote.tsx"
  },
  "external": ["@/shared"],
  "host": "https://myrechunkserver.abc"
}
```

To generate the chunk, you can use the `publish` command. This command initiates the process of creating and finalizing the chunk based on the configuration specified in your `rechunk.json` file. Use the `publish` command to trigger the chunk generation and make it ready for deployment or usage within your project.

To update a chunk, simply use the `publish` command again for that specific chunk. This will regenerate and update the chunk based on any changes you've made to the corresponding source code or configuration in your project. By re-publishing the chunk, you ensure that it reflects the most recent updates and modifications you've implemented.

import {Tabs, TabItem} from '@astrojs/starlight/components';

<Tabs>
<TabItem label="yarn">

```sh
yarn rechunk publish --chunk foo
```

</TabItem>
<TabItem label="npm">

```sh
npm run rechunk publish --chunk foo
```

</TabItem>
<TabItem label="pnpm">

```sh
pnpm rechunk publish --chunk foo
```

</TabItem>
<TabItem label="bun">

```sh
bun rechunk publish --chunk foo
```

</TabItem>
</Tabs>

### Removal

The removal of a chunk is primarily governed by the parameters set in your ReChunk configuration file, `rechunk.json`. To execute the removal, utilize the `unpublish` command in conjunction with the specified chunk identifier.

<Tabs>
<TabItem label="yarn">

```sh
yarn rechunk unpublish --chunk foo
```

</TabItem>
<TabItem label="npm">

```sh
npm run rechunk unpublish --chunk foo
```

</TabItem>
<TabItem label="pnpm">

```sh
pnpm rechunk unpublish --chunk foo
```

</TabItem>
<TabItem label="bun">

```sh
bun rechunk unpublish --chunk foo
```

</TabItem>
</Tabs>

You should recieve a success message that the chunk was removed. Now in your app your error boundary will be triggered as the chunk does not exist.

### Listing

To ascertain which chunks are currently published, you can use the `list` command. This command also depends on the configuration settings specified in your ReChunk configuration file, `rechunk.json`.

<Tabs>
<TabItem label="yarn">

```sh
yarn rechunk list
```

</TabItem>
<TabItem label="npm">

```sh
npm run rechunk list
```

</TabItem>
<TabItem label="pnpm">

```sh
pnpm rechunk list
```

</TabItem>
<TabItem label="bun">

```sh
bun rechunk list
```

</TabItem>
</Tabs>

## Development Server

Before publishing your chunks, you can test them using the local development server, which relies on the configuration specified in your `rechunk.json` file. Instead of deploying a chunk to the ReChunk service, the component will be bundled, hashed, and cryptographically signed on-the-fly, then returned immediately. This process allows for secure testing of your chunks prior to deployment.

<Tabs>
<TabItem label="yarn">

```sh
yarn rechunk dev-server
```

</TabItem>
<TabItem label="npm">

```sh
npm run rechunk dev-server
```

</TabItem>
<TabItem label="pnpm">

```sh
pnpm rechunk dev-server
```

</TabItem>
<TabItem label="bun">

```sh
bun rechunk dev-server
```

</TabItem>
</Tabs>
